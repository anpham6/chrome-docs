

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Google Cloud Platform &mdash; E-mc 0.13.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=9dcc611a" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/role.css?v=7d609451" />
      <link rel="stylesheet" type="text/css" href="../_static/content.css?v=7c8efdee" />
      <link rel="stylesheet" type="text/css" href="../_static/highlight-abap.css?v=0a013c1c" />
      <link rel="stylesheet" type="text/css" href="../_static/override.css?v=c5bd8d2d" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=27e171c2"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MongoDB Atlas" href="atlas.html" />
    <link rel="prev" title="Microsoft Azure" href="azure.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: url(https://e-mc.readthedocs.io/en/latest/_static/places/006.png);" >

          
          
          <a href="../index.html" class="icon icon-home">
            E-mc
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../document/index.html">Document</a></li>
<li class="toctree-l1"><a class="reference internal" href="../image/index.html">Image</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Cloud</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="interface.html">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="aws.html">AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="aws-v3.html">AWS (v3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure.html">Azure</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Google</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#storage">Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#database">Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pi-r-gcp">&#64;pi-r/gcp</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="atlas.html">MongoDB Atlas</a></li>
<li class="toctree-l2"><a class="reference internal" href="oci.html">Oracle</a></li>
<li class="toctree-l2"><a class="reference internal" href="ibm.html">IBM</a></li>
<li class="toctree-l2"><a class="reference internal" href="minio.html">MinIO</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../db/index.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../request/index.html">Request</a></li>
<li class="toctree-l1"><a class="reference internal" href="../task/index.html">Task</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compress/index.html">Compress</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.html">Build Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: url(https://e-mc.readthedocs.io/en/latest/_static/places/006.png);" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">E-mc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Cloud</a></li>
      <li class="breadcrumb-item active">Google Cloud Platform</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="google-cloud-platform">
<h1>Google Cloud Platform<a class="headerlink" href="#google-cloud-platform" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p><strong>npm</strong> i <em>&#64;pi-r/gcp</em></p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The alias <em class="target">gcloud</em> can be used in place of “<em>gcp</em>” for the <strong>service</strong> property.</p>
</div>
<section id="storage">
<h2>Storage<a class="headerlink" href="#storage" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://cloud.google.com/storage">https://cloud.google.com/storage</a></p></li>
<li><p><a class="reference external" href="https://firebase.google.com/products/storage">https://firebase.google.com/products/storage</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>npm</strong> i <em>firebase</em> &amp;&amp; <strong>npm</strong> i <em>firebase-admin</em> (optional)</p>
</div>
<section id="interface">
<h3>Interface<a class="headerlink" href="#interface" title="Link to this heading"></a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StorageOptions</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@google-cloud/storage&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">FirebaseOptions</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@firebase/app&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ServiceAccount</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;firebase-admin/app&quot;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">GCPStorage</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">CloudStorage</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">service</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;gcp&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;gcloud&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="nx">credential</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">GCPStorageCredential</span><span class="p">;</span>
<span class="w">    </span><span class="nx">bucket</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">GCPStorageCredential</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">StorageOptions</span><span class="p">,</span><span class="w"> </span><span class="nx">FirebaseOptions</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">product</span><span class="o">?:</span><span class="w"> </span><span class="s2">&quot;firebase&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="nx">admin?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">ServiceAccount</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="api">
<h4>API<a class="headerlink" href="#api" title="Link to this heading"></a></h4>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="kr">type</span><span class="w"> </span><span class="nx">Document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
<span class="kr">type</span><span class="w"> </span><span class="nx">Metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
</section>
</section>
<section id="authentication">
<h3>Authentication<a class="headerlink" href="#authentication" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://cloud.google.com/docs/authentication/client-libraries">Credentials</a></p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">using process.env</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">GOOGLE_APPLICATION_CREDENTIALS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;dataSource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// squared.cloud.json</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;keyFilename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./gcp.json&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Path to JSON credentials</span>
<span class="w">      </span><span class="nt">&quot;projectId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;projectId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;credentials&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;client_email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;**********&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;private_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;**********&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;service_account&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Optional</span>
<span class="w">        </span><span class="nt">&quot;project_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;projectId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// When using GOOGLE_APPLICATION_CREDENTIALS</span>
<span class="w">      </span><span class="nt">&quot;scopes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://www.googleapis.com/auth/cloud-platform&quot;</span><span class="w"> </span><span class="c1">// Optional</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;projectId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;apiKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;**********&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;authDomain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;project-id&gt;.firebaseapp.com&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="cm">/* OR */</span>
<span class="w">      </span><span class="nt">&quot;product&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;firebase&quot;</span><span class="w"> </span><span class="c1">// When using GOOGLE_APPLICATION_CREDENTIALS</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="example-usage">
<h3>Example usage<a class="headerlink" href="#example-usage" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://googleapis.dev/nodejs/storage/latest">Storage Client API</a></p></li>
<li><p><a class="reference external" href="https://firebase.google.com/docs/reference/node/firebase.storage">Firebase Client API</a></p></li>
<li><p><a class="reference external" href="https://cloud.google.com/nodejs/docs/reference/storage/latest/storage/acl">Class ACL</a></p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;selector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;html&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Any resource</span>
<span class="w">  </span><span class="nt">&quot;cloudStorage&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">    </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;bucket&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs-001&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Authentication */</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;admin&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;publicRead&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// New buckets only</span>
<span class="w">      </span><span class="cm">/* OR */</span>
<span class="w">      </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;private&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// See &quot;policy&quot;</span>

<span class="w">      </span><span class="nt">&quot;emptyBucket&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gcp.(deleteFiles | getFiles){GetFilesOptions}</span>
<span class="w">        </span><span class="nt">&quot;recursive&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">// Optional</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;configBucket&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;policy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// MakeBucketPrivateOptions</span>
<span class="w">          </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;private&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// makePrivate + includeFiles + projectPrivate</span>
<span class="w">          </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;projectPrivate&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// makePrivate + allUsers (delete) + allAuthenticatedUsers (delete)</span>
<span class="w">          </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;authenticatedRead&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// projectPrivate + allAuthenticatedUsers:READER</span>
<span class="w">          </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;publicRead&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// makePublic + includeFiles</span>
<span class="w">          </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;publicReadWrite&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// publicRead + allUsers:WRITER</span>
<span class="w">          </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nt">&quot;entity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;allUsers&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;READER&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="cm">/* add */</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;entity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;allAuthenticatedUsers&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="cm">/* delete */</span><span class="p">],</span><span class="w"> </span><span class="c1">// Custom</span>

<span class="w">          </span><span class="cm">/* Unofficial aliases - gcp.setMetadata{iamConfiguration} */</span>
<span class="w">          </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bucketAccessUniform&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Enable uniform bucket-level access</span>
<span class="w">          </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bucketAccessACL&quot;</span><span class="w"> </span><span class="c1">// Revert uniform bucket-level access (within 90 days)</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gcp.setMetadata{labels}</span>
<span class="w">          </span><span class="nt">&quot;key_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;key_2&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="c1">// gcp.setMetadata{labels=null}</span>
<span class="w">        </span><span class="nt">&quot;website&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gcp.setMetadata{website}</span>
<span class="w">          </span><span class="nt">&quot;indexPage&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;index.html&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// mainPageSuffix</span>
<span class="w">          </span><span class="nt">&quot;errorPage&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;404.html&quot;</span><span class="w"> </span><span class="c1">// notFoundPage</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="cm">/* During call to &quot;upload&quot; */</span>
<span class="w">        </span><span class="nt">&quot;create&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// gcp.createBucket{CreateBucketRequest}</span>
<span class="w">          </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ASIA&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;storageClass&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;STANDARD&quot;</span><span class="w"> </span><span class="c1">// &quot;NEARLINE&quot; | &quot;COLDLINE&quot; | &quot;ARCHIVE&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;lifecycle&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="cm">/* LifecycleRule */</span><span class="p">],</span><span class="w"> </span><span class="c1">// gcp.addLifecycleRule</span>
<span class="w">        </span><span class="nt">&quot;lifecycle&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="cm">/* LifecycleRule */</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">],</span><span class="w"> </span><span class="c1">// options.append = false</span>
<span class="w">        </span><span class="nt">&quot;lifecycle&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="c1">// Delete all rules</span>
<span class="w">        </span><span class="nt">&quot;cors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="cm">/* Cors */</span><span class="p">],</span><span class="w"> </span><span class="c1">// gcp.setCorsConfiguration</span>
<span class="w">        </span><span class="nt">&quot;cors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="c1">// Delete all rules</span>
<span class="w">        </span><span class="nt">&quot;retentionPolicy&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1">// gcp.removeRetentionPeriod</span>
<span class="w">        </span><span class="nt">&quot;retentionPolicy&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">86400</span><span class="w"> </span><span class="c1">// gcp.setRetentionPeriod (seconds)</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;upload&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;publicRead&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// Will not clobber existing ACLs</span>
<span class="w">      </span><span class="nt">&quot;publicRead&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1">// Remove ACL without affecting other ACLs</span>
<span class="w">      </span><span class="cm">/* OR */</span>
<span class="w">      </span><span class="nt">&quot;acl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;authenticatedRead&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// &quot;bucketOwnerFullControl&quot; | &quot;bucketOwnerRead&quot; | &quot;private&quot; | &quot;projectPrivate&quot; | &quot;publicRead&quot;</span>

<span class="w">      </span><span class="cm">/* gcp.save */</span>
<span class="w">      </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// UploadOptions</span>
<span class="w">        </span><span class="nt">&quot;contentType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;predefinedAcl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;publicRead&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Supplementary are public</span>
<span class="w">        </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Metadata */</span><span class="p">}</span><span class="w"> </span><span class="c1">// All objects except when &quot;metadata&quot; is defined</span>
<span class="w">      </span><span class="p">},</span>

<span class="w">      </span><span class="cm">/* gcp.uploadFileInChunks{chunkSizeBytes} */</span>
<span class="w">      </span><span class="nt">&quot;chunkSize&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8mb&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Aligned to 1mb</span>
<span class="w">      </span><span class="nt">&quot;chunkLimit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="c1">// Same as &quot;concurrencyLimit&quot;</span>
<span class="w">      </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;contentType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Metadata */</span><span class="p">},</span>
<span class="w">        </span><span class="cm">/* UploadFileInChunksOptions - shared */</span>
<span class="w">        </span><span class="nt">&quot;headers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;Authorization&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;x-goog-user-project&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;maxQueueSize&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;concurrencyLimit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">      </span><span class="p">},</span>

<span class="w">      </span><span class="cm">/* firebase.uploadBytes */</span>
<span class="w">      </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// UploadMetadata</span>
<span class="w">        </span><span class="nt">&quot;contentType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;customMetadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Metadata */</span><span class="p">}</span><span class="w"> </span><span class="c1">// All objects except when &quot;metadata&quot; is defined</span>
<span class="w">      </span><span class="p">},</span>

<span class="w">      </span><span class="cm">/* Primary object only */</span>
<span class="w">      </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;key_delete&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;download&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="cm">/* gcp.createReadStream */</span>
<span class="w">      </span><span class="nt">&quot;chunkSize&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Empty</span>
<span class="w">      </span><span class="nt">&quot;chunkLimit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="c1">// Will only stream when value is 1</span>

<span class="w">      </span><span class="cm">/* gcp.downloadFileInChunks{chunkSizeBytes} */</span>
<span class="w">      </span><span class="nt">&quot;chunkSize&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;32mb&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Aligned to 1mb</span>
<span class="w">      </span><span class="nt">&quot;chunkLimit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="c1">// Same as &quot;concurrencyLimit&quot;</span>
<span class="w">      </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;concurrencyLimit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="cm">/* Same as interface - gcp.download + firebase.getDownloadURL */</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p><em>Firebase</em> does not support any bucket operations except <code class="docutils literal notranslate"><span class="pre">emptyBucket</span></code> and <code class="docutils literal notranslate"><span class="pre">metadata</span></code>.</p>
</div>
</section>
</section>
<section id="database">
<h2>Database<a class="headerlink" href="#database" title="Link to this heading"></a></h2>
<section id="id1">
<h3>Interface<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<div class="highlight-typescript notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">GoogleAuthOptions</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;google-auth-library&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AggregateSpec</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@google-cloud/firestore&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">PathType</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@google-cloud/datastore&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">entity</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@google-cloud/datastore/build/src/entity&quot;</span><span class="p">;</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">GCPDatabaseQuery</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">CloudDatabase</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">source</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;cloud&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="nx">service</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;gcp&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;gcloud&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="nx">credential</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">GCPDatabaseCredential</span><span class="p">;</span>
<span class="w">    </span><span class="nx">product</span><span class="o">?:</span><span class="w"> </span><span class="s2">&quot;firestore&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;bigquery&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;bigtable&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;datastore&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;spanner&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;firebase&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="nx">id?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="w">    </span><span class="nx">params?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">unknown</span><span class="p">[]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">Document</span><span class="p">;</span>
<span class="w">    </span><span class="nx">database?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="nx">updateType?</span><span class="o">:</span><span class="w"> </span><span class="kt">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span>
<span class="w">    </span><span class="nx">columns?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
<span class="w">    </span><span class="nx">keys?</span><span class="o">:</span><span class="w"> </span><span class="kt">DatastoreKey</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">DatastoreKey</span><span class="p">[];</span>
<span class="w">    </span><span class="nx">kind?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span><span class="p">[];</span>
<span class="w">    </span><span class="nx">orderBy?</span><span class="o">:</span><span class="w"> </span><span class="kt">unknown</span><span class="p">[][];</span>
<span class="w">    </span><span class="nx">aggregateSpec?</span><span class="o">:</span><span class="w"> </span><span class="kt">AggregateSpec</span><span class="p">;</span>
<span class="w">    </span><span class="nx">flags?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">interface</span><span class="w"> </span><span class="nx">GCPDatabaseCredential</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">GoogleAuthOptions</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Empty */</span><span class="p">}</span>

<span class="kr">type</span><span class="w"> </span><span class="nx">DatastoreKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">PathType</span><span class="p">[]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">entity</span><span class="p">.</span><span class="nx">KeyOptions</span><span class="p">;</span>
<span class="kr">type</span><span class="w"> </span><span class="nx">Document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id2">
<h3>Authentication<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;dataSource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// squared.cloud.json</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Same as Storage */</span><span class="p">},</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;projectId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;apiKey&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;**********&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;authDomain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;project-id&gt;.firebaseapp.com&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;databaseURL&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://&lt;database-name&gt;.firebaseio.com&quot;</span><span class="w"> </span><span class="c1">// Required</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id3">
<h3>Example usage<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<section id="firestore">
<h4>Firestore<a class="headerlink" href="#firestore" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://cloud.google.com/firestore">https://cloud.google.com/firestore</a></p></li>
<li><p><a class="reference external" href="https://googleapis.dev/nodejs/firestore/latest">Client API</a></p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;selector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;h1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;dataSource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cloud&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;product&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;firestore&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Authentication */</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;table&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;demo&quot;</span><span class="p">,</span>

<span class="w">    </span><span class="cm">/* a = fs.collection(table) | b = fs.collectionGroup(table){flags &amp; 1} */</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8Qnt83DSNW0eNykpuzcQ&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// a.doc</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;8Qnt83DSNW0eNykpuzcQ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;aahiEBE4qHM73JE7jom3&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// fs.getAll (table/id)</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* ReadOptions */</span><span class="p">},</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;column&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;column.sub&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// a.findNearest</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// Optional</span>
<span class="w">      </span><span class="nt">&quot;distanceMeasure&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;EUCLIDEAN&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// a.findNearest{VectorQueryOptions} (not cached)</span>
<span class="w">      </span><span class="nt">&quot;vectorField&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;column&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;queryVector&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// Optional</span>
<span class="w">      </span><span class="nt">&quot;distanceMeasure&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;EUCLIDEAN&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;where&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;group&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;==&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Firestore&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;where&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;==&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;8Qnt83DSNW0eNykpuzcQ&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;findNearest&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;column&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;distanceMeasure&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;EUCLIDEAN&quot;</span><span class="w"> </span><span class="p">}],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;limitToLast&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;orderBy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;title&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;asc&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;whereAnd&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Unofficial</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;group&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;==&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Firestore&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;==&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;8Qnt83DSNW0eNykpuzcQ&quot;</span><span class="p">]</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;limitToLast&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;whereOr&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Unofficial</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;==&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;8Qnt83DSNW0eNykpuzcQ&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;==&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;aahiEBE4qHM73JE7jom3&quot;</span><span class="p">]</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;orderBy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;title&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;asc&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;orderBy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;asc&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="c1">// b.getPartitions(id){number}</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;aggregateSpec&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* AggregateSpec */</span><span class="p">},</span><span class="w"> </span><span class="c1">// (a | b).aggregate (not cached)</span>

<span class="w">    </span><span class="nt">&quot;updateType&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1">// 0 - update{exists} | 1 - create | 2 - set | 3 - set{merge}</span>
<span class="w">    </span><span class="nt">&quot;update&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Document */</span><span class="p">},</span><span class="w"> </span><span class="c1">// fs.update</span>
<span class="w">    </span><span class="nt">&quot;update&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;key1&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;__delete__&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// FieldValue.delete()</span>
<span class="w">      </span><span class="nt">&quot;key2&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;__increment__&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// FieldValue.increment(1)</span>
<span class="w">      </span><span class="nt">&quot;key2&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;__increment&lt;number&gt;__&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// FieldValue.increment(number)</span>
<span class="w">      </span><span class="nt">&quot;key3&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;__serverTimestamp__&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// FieldValue.serverTimestamp()</span>
<span class="w">      </span><span class="nt">&quot;key4&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;__vector&lt;1, 2, 3&gt;__&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// FieldValue.vector([1, 2, 3])</span>
<span class="w">      </span><span class="nt">&quot;key4&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;__arrayUnion&lt;a, b, c&gt;__&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// FieldValue.arrayUnion(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</span>
<span class="w">      </span><span class="nt">&quot;key4&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;__arrayRemove&lt;1, [2\\, 3\\, 4], 5&gt;__&quot;</span><span class="w"> </span><span class="c1">// FieldValue.arrayRemove(1, [2, 3, 4], 5)</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8Qnt83DSNW0eNykpuzcQ&quot;</span><span class="w"> </span><span class="c1">// Same as item being retrieved</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="hlist"><tr><td><ul class="simple">
<li><p>endAt</p></li>
<li><p>endBefore</p></li>
<li><p>limit</p></li>
<li><p>limitToLast</p></li>
</ul>
</td><td><ul class="simple">
<li><p>offset</p></li>
<li><p>orderBy</p></li>
<li><p>select</p></li>
</ul>
</td><td><ul class="simple">
<li><p>startAfter</p></li>
<li><p>startAt</p></li>
<li><p>where</p></li>
</ul>
</td><td><ul class="simple">
<li><p><strong>whereAnd</strong></p></li>
<li><p><strong>whereOr</strong></p></li>
<li><p>withConverter</p></li>
</ul>
</td></tr></table>
</section>
<section id="bigquery">
<h4>BigQuery<a class="headerlink" href="#bigquery" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://cloud.google.com/bigquery">https://cloud.google.com/bigquery</a></p></li>
<li><p><a class="reference external" href="https://googleapis.dev/nodejs/bigquery/latest">Client API</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>npm</strong> i <em>&#64;google-cloud/bigquery</em></p>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;selector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;h1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;dataSource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cloud&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;product&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bigquery&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Authentication */</span><span class="p">},</span>

<span class="w">    </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Dataset (optional)</span>
<span class="w">    </span><span class="nt">&quot;table&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Destination table (optional)</span>

<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SELECT name, count FROM `demo.names_2014` WHERE gender = &#39;M&#39; ORDER BY count DESC LIMIT 10&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// bq.getQueryResults</span>

<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;arg0&quot;</span><span class="w"> </span><span class="cm">/* ? */</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;arg1&quot;</span><span class="w"> </span><span class="cm">/* ? */</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* IQuery */</span><span class="p">},</span>

<span class="w">    </span><span class="nt">&quot;update&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SELECT name, state FROM `bigquery-public-data.usa_names.usa_1910_current` LIMIT 10&quot;</span><span class="w"> </span><span class="c1">// &quot;database&quot; | &quot;database&quot; + &quot;table&quot; (bq.setMetadata)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="datastore">
<h4>Datastore<a class="headerlink" href="#datastore" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://cloud.google.com/datastore">https://cloud.google.com/datastore</a></p></li>
<li><p><a class="reference external" href="https://googleapis.dev/nodejs/datastore/latest">Client API</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>npm</strong> i <em>&#64;google-cloud/datastore</em></p>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;selector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;h1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;dataSource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cloud&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;product&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;datastore&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Authentication */</span><span class="p">},</span>

<span class="w">    </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// ds.get</span>
<span class="w">    </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;task&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;sampletask1&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// PathType[]</span>
<span class="w">    </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// KeyOptions</span>
<span class="w">      </span><span class="nt">&quot;namespace&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;task&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;sampletask3&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;task&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;task&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;sampletask2&quot;</span><span class="p">]],</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;namespace&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// With &quot;kind&quot; (optional)</span>
<span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// ds.runQuery (at least one parameter)</span>
<span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Task1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Task2&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;done&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;=&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;filter&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;priority&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&gt;=&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;priority&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;descending&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* RunQueryOptions */</span><span class="p">},</span>

<span class="w">    </span><span class="nt">&quot;update&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Document */</span><span class="p">},</span><span class="w"> </span><span class="c1">// ds.save</span>
<span class="w">    </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;task&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Same as item being retrieved</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Task&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="cm">/* Same */</span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="hlist"><tr><td><ul class="simple">
<li><p>end</p></li>
<li><p>filter</p></li>
<li><p>groupBy</p></li>
</ul>
</td><td><ul class="simple">
<li><p>hasAncestor</p></li>
<li><p>limit</p></li>
</ul>
</td><td><ul class="simple">
<li><p>offset</p></li>
<li><p>order</p></li>
</ul>
</td><td><ul class="simple">
<li><p>select</p></li>
<li><p>start</p></li>
</ul>
</td></tr></table>
</section>
<section id="bigtable">
<h4>Bigtable<a class="headerlink" href="#bigtable" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://cloud.google.com/bigtable">https://cloud.google.com/bigtable</a></p></li>
<li><p><a class="reference external" href="https://googleapis.dev/nodejs/bigtable/latest">Client API</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>npm</strong> i <em>&#64;google-cloud/bigtable</em></p>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;selector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;h1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;dataSource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cloud&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;product&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bigtable&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Authentication */</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Instance</span>
<span class="w">    </span><span class="nt">&quot;table&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;demo&quot;</span><span class="p">,</span>

<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rowKey1&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// bt.get</span>
<span class="w">    </span><span class="nt">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;column1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;column2&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;empty&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// bt.createReadStream</span>

<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Filter */</span><span class="p">},</span><span class="w"> </span><span class="c1">// Overrides &quot;filter&quot; in GetRowOptions</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* GetRowOptions */</span><span class="p">},</span>

<span class="w">    </span><span class="nt">&quot;update&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Document */</span><span class="p">},</span><span class="w"> </span><span class="c1">// bt.save</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rowKey1&quot;</span><span class="w"> </span><span class="c1">// Same as item being retrieved</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="spanner">
<h4>Spanner<a class="headerlink" href="#spanner" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://cloud.google.com/spanner">https://cloud.google.com/spanner</a></p></li>
<li><p><a class="reference external" href="https://googleapis.dev/nodejs/spanner/latest">Client API</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>npm</strong> i <em>&#64;google-cloud/spanner</em></p>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;selector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;h1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;dataSource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cloud&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;product&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;spanner&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Authentication */</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nodejs&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Instance</span>

<span class="w">    </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sample&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Required</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;databasePool&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* session-pool.SessionPoolOptions */</span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;databaseQuery&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* protos.IQueryOptions */</span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>

<span class="w">    </span><span class="nt">&quot;table&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// sp.table.read</span>
<span class="w">    </span><span class="nt">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;col2&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// Overrides &quot;columns&quot; in ReadRequest</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ReadRequest</span>
<span class="w">      </span><span class="nt">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">      </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;tableRead&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* TimestampBounds */</span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;table&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;empty&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// sp.run</span>
<span class="w">    </span><span class="nt">&quot;flags&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="c1">// sp.runStream</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SELECT 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// DML</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// ExecuteSqlRequest</span>
<span class="w">      </span><span class="nt">&quot;sql&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SELECT 1&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;p1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;p2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;types&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;p1&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;numeric&quot;</span><span class="w"> </span><span class="c1">// date | float | float32 | int | protoEnum | protoMessage | struct | pgJsonb | pgNumeric | timestamp</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>

<span class="w">    </span><span class="nt">&quot;table&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// sp.table.update</span>
<span class="w">    </span><span class="nt">&quot;update&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Document */</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;updateType&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1">// 0 - update | 1 - insert | 2 - replace</span>
<span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;tableUpdate&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* UpdateRowsOptions */</span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;table&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;empty&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// sp.runUpdate</span>
<span class="w">    </span><span class="nt">&quot;update&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SELECT 1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;update&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;sql&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SELECT 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;p1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;p2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="realtime-database">
<h4>Realtime Database<a class="headerlink" href="#realtime-database" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://firebase.google.com/products/realtime-database">https://firebase.google.com/products/realtime-database</a></p></li>
<li><p><a class="reference external" href="https://firebase.google.com/docs/reference/js/database.md#database_package">Client API</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>npm</strong> i <em>firebase</em> &amp;&amp; <strong>npm</strong> i <em>firebase-admin</em> (optional)</p>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;selector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;h1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;dataSource&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cloud&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;service&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;product&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;firebase&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;credential&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Authentication */</span><span class="p">},</span>

<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;path/to/ref&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// rd.child</span>
<span class="w">    </span><span class="cm">/* OR */</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;path/to/ref&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// rd.query</span>
<span class="w">    </span><span class="nt">&quot;orderBy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;orderByChild&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;path/to/child&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;startAfter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;limitToFirst&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>

<span class="w">    </span><span class="nt">&quot;update&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="cm">/* Document */</span><span class="p">},</span><span class="w"> </span><span class="c1">// rd.update</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;path/to/ref&quot;</span><span class="w"> </span><span class="c1">// Same as item being retrieved (rd.child)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="hlist"><tr><td><ul class="simple">
<li><p>endBefore</p></li>
<li><p>endAt</p></li>
<li><p>equalTo</p></li>
</ul>
</td><td><ul class="simple">
<li><p>limitToFirst</p></li>
<li><p>limitToLast</p></li>
<li><p>orderByChild</p></li>
</ul>
</td><td><ul class="simple">
<li><p>orderByKey</p></li>
<li><p>orderByPriority</p></li>
<li><p>orderByValue</p></li>
</ul>
</td><td><ul class="simple">
<li><p>startAt</p></li>
<li><p>startAfter</p></li>
</ul>
</td></tr></table>
</section>
</section>
</section>
<section id="pi-r-gcp">
<h2>&#64;pi-r/gcp<a class="headerlink" href="#pi-r-gcp" title="Link to this heading"></a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.11.0: </span></p>
<ul class="simple">
<li><p><em>GCPStorage</em> properties <strong>upload</strong> | <strong>download</strong> extended <em class="target">CopyObjectAction</em> as <em class="alt">copyObject | copyObject[]</em>.</p></li>
</ul>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.10.1: </span></p>
<ul class="simple">
<li><p><em>Spanner</em> method <strong>runStream</strong> for SQL requests was implemented.</p></li>
</ul>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.10.0: </span></p>
<ul class="simple">
<li><p><em>GCPStorage</em> property <strong>admin.configBucket.retentionPolicy</strong> as <cite>0</cite> calls the method <em class="target">removeRetentionPeriod</em>.</p></li>
<li><p><em>Firebase Admin</em> authentication using a path to a JSON file or an object representing a service account key is supported.</p></li>
<li><p><em>Firestore</em> aggregate and collection group partition queries are supported.</p></li>
<li><p><em>Firestore</em> method <strong>findNearest</strong> for vector queries as <em class="alt">VectorQueryOptions</em> was implemented.</p></li>
</ul>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.9.0: </span></p>
<ul class="simple">
<li><p><em>GCPStorage</em> property <strong>emptyBucket</strong> for directory listing as <em class="alt">GetListOptions</em> was implemented.</p></li>
</ul>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.8.0: </span></p>
<ul class="simple">
<li><p><em>GCPStorage</em> action <strong>download</strong> using <strong>createReadStream</strong> with <em class="alt">chunkLimit</em> was implemented.</p></li>
<li><p><em>Firestore</em> method <strong>findNearest</strong> as a <em>VectorQuery</em> and <em>Query</em> is supported.</p></li>
<li><p><em>Firestore</em> property <strong>update</strong> supports using <em>FieldValue&lt;”vector” | “arrayUnion” | “arrayRemove”&gt;</em> methods.</p></li>
</ul>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.1: </span></p>
<ul class="simple">
<li><p><em>Firestore</em> methods <strong>where</strong> | <strong>orderBy</strong> | <strong>select</strong> supports using <em>FieldPath</em> params.</p></li>
</ul>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.0: </span></p>
<ul class="simple">
<li><p><strong>CLOUD_UPLOAD_STREAM</strong> attribute in <em>ICloudServiceClient</em> was enabled.</p></li>
<li><p><strong>CLOUD_UPLOAD_CHUNK</strong> attribute in <em>ICloudServiceClient</em> was enabled.</p></li>
<li><p><strong>CLOUD_DOWNLOAD_CHUNK</strong> attribute in <em>ICloudServiceClient</em> was enabled.</p></li>
<li><p><strong>chunkSize</strong> | <strong>chunkLimit</strong> in <em>CloudStorageUpload</em> were implemented.</p></li>
<li><p><strong>chunkSize</strong> | <strong>chunkLimit</strong> in <em>CloudStorageDownload</em> were implemented.</p></li>
<li><p><em>GCPStorage</em> <strong>configBucket.tags</strong> using <em>Metadata</em> was implemented.</p></li>
<li><p><em>GCPStorage</em> <strong>configBucket.cors</strong> using <em>Cors</em> was implemented.</p></li>
<li><p><em>GCPStorage</em> <strong>configBucket.lifecycle</strong> using <em>LifecycleRule</em> was implemented.</p></li>
<li><p><em>Firestore</em> property <strong>update</strong> supports using <em>FieldValue&lt;”delete” | “increment” | “serverTimestamp”&gt;</em> methods.</p></li>
<li><p><em>Firestore</em> property <strong>update</strong> supports using property <strong>updateType</strong> enum values.</p></li>
</ul>
</div>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 0.7.0: </span></p>
<ul class="simple">
<li><p><em>GCPStorageCredential</em> no longer extends <strong>CreateBucketRequest</strong>.</p></li>
</ul>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.3: </span></p>
<ul class="simple">
<li><p><em>Firestore</em> property <strong>id</strong> supports multiple document references.</p></li>
<li><p><em>Firestore</em> property <strong>query</strong> supports using <em>Filter&lt;”and” | “or”&gt;</em> conditional groups for <em>where</em>.</p></li>
</ul>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.2: </span></p>
<ul class="simple">
<li><p><em>GoogleAuthOptions</em> properties <strong>authClient</strong> and <strong>credentials</strong> were not detected during credential validation.</p></li>
<li><p><em>Datastore</em> method <strong>createQuery</strong> with <em class="target">namespace</em> and <em class="target">kind</em> parameter is supported.</p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="azure.html" class="btn btn-neutral float-left" title="Microsoft Azure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="atlas.html" class="btn btn-neutral float-right" title="MongoDB Atlas" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>